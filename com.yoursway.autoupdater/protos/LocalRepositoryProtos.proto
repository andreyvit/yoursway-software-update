
option java_package = "com.yoursway.autoupdater.protos";

message ProductVersionMemento {
	required string name = 1;
}

message ProductVersionStateMemento {
	required ProductVersionMemento version = 1;
	
	enum State {
		New = 0;
		Downloading = 1;
		Installing = 2;
		Current = 3;
		Old = 4;
	}
	
	required State state = 2;
}

message ProductMemento {
	required string name = 1;
}

message ProductStateMemento {
	required ProductMemento product = 1;

	repeated ProductVersionStateMemento version = 2;
}

message LocalRepositoryMemento {
	repeated ProductStateMemento product = 1;
}